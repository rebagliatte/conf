<header class="admin-header">
  <%= title 'Talks' %>

  <% if can? :manage, @conference_edition %>
    <%= link_to 'New talk', new_admin_conference_edition_talk_path(@conference_edition), class: 'btn primary-btn main-cta' %>
  <% end %>

</header>

<% if @talks.any? %>
  <% @talks.each do |status, talks| %>
    <h2><%= status %></h2>
    <table class="table">
      <thead>
        <tr>
          <th>ID</th>
          <th>Title</th>
          <th>Speaker</th>
          <th>Actions</th>
        </tr>
      </thead>
      <tbody>
        <% for talk in talks %>
          <tr>
            <td><%= talk.id %></td>
            <td><%= talk.title %></td>
            <td><%= talk.speakers.first.name %></td>
            <td class="actions">
              <%= link_to admin_conference_edition_talk_path(@conference_edition, talk), title: 'View' do %><i class="icon-eye-open"></i><% end %>
              <% if can? :manage, @conference_edition %>
                <%= link_to edit_admin_conference_edition_talk_path(@conference_edition, talk), title: 'Edit' do %><i class="icon-pencil"></i><% end %>
              <% end %>
            </td>
          </tr>
        <% end %>
      </tbody>
    </table>
  <% end %>
<% else %>
  <p class="alert alert-info">
    It seems there are no talks for this conference edition.

    <% if can? :manage, @conference_edition %>
      Would you like to <%= link_to 'create one', new_admin_conference_edition_talk_path(@conference_edition) %>?
    <% end %>

  </p>
<% end %>
